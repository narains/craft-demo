(window["webpackJsonpcraft-demo"]=window["webpackJsonpcraft-demo"]||[]).push([[0],{23:function(e,n,t){e.exports=t(46)},28:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(6),o=t.n(c),i=(t(28),t(4)),l=[{label:"Multi-Select",value:"multiSelect"},{label:"Single-Select",value:"singleSelect"}],u=[{label:"Display choices in Alphabetical Order",value:"alphabetical"},{label:"Display choices in Top Down Order",value:"topDown"},{label:"Display choices in Bottom Up Order",value:"bottomUp"}],d={ADD_CHOICE:"add_choice",CANCEL_CHOICE:"cancel_choice",CLEAR_ERROR:"clear_error",DELETE_CHOICE:"delete_choice",REORDER_CHOICE_LIST:"reorder_choice",HANDLE_CHANGE_FOR_ADD_CHOICE:"handle_change_for_add_choice",HANDLE_CHANGE_FOR_EDIT_CHOICE:"edit_choice",HANDLE_INPUT_CHANGE:"handle_input_change",HANDLE_BLUR:"handle_blur",HANDLE_CHECK_BOX_CHANGE:"handle_checkbox_change",SET_ERROR_ON_SUBMIT:"set_error_on_submit",SUBMIT_STARTED:"activity_save",SUBMIT_COMPLETE:"customer_create",SUBMIT_ERROR:"submit_error",UPDATE_CHOICE:"update_choice"},s={label:"",type:"multiSelect",required:!1,default:"",choices:[],displayOrder:"alphabetical"},f={label:[],default:[],addChoice:[],editChoices:[]},m={submitted:!1,loading:!1,errorMessage:"",response:""},p=t(3);function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(t,!0).forEach(function(n){Object(p.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var b=function(e,n){switch(n.type){case d.SET_ERROR_ON_SUBMIT:return h({},e,{},n.payload.errors);case d.HANDLE_CHANGE_FOR_ADD_CHOICE:return h({},e,{addChoice:n.payload.errors});case d.CLEAR:case d.CLEAR_ERROR:return h({},e,{},f);default:return h({},e)}},O=t(20),y=t(13),v=t.n(y);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(t,!0).forEach(function(n){Object(p.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var _=function(e,n){switch(n.type){case d.HANDLE_INPUT_CHANGE:return C({},e,Object(p.a)({},n.payload.name,n.payload.value));case d.HANDLE_CHECK_BOX_CHANGE:return C({},e,Object(p.a)({},n.payload.name,!e[n.payload.name]));case d.ADD_CHOICE:return C({},e,{choices:[].concat(Object(O.a)(e.choices),[{id:v()(),name:n.payload.choice,isEditing:!1}])});case d.UPDATE_CHOICE:case d.HANDLE_CHANGE_FOR_EDIT_CHOICE:return C({},e,{choices:e.choices.map(function(e){var t=n.payload.choice;return e.id===t.id?t:e})});case d.DELETE_CHOICE:return C({},e,{choices:e.choices.filter(function(e){return e.id!==n.payload.id})});case d.REORDER_CHOICE_LIST:return C({},e,{choices:n.payload.updatedChoices});case d.CLEAR:return C({},e,{},s);default:return C({},e)}};function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(t,!0).forEach(function(n){Object(p.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var D=function(e,n){switch(n.type){case d.SUBMIT_STARTED:return x({},e,{submitted:!1,loading:!0});case d.SUBMIT_COMPLETE:return x({},e,{submitted:!0,response:n.response,errorMessage:"",loading:!1});case d.SUBMIT_ERROR:return x({},e,{submitted:!1,errorMessage:n.errorMessage,loading:!1});case d.CLEAR:return x({},e,{},m);default:return x({},e)}},w=Object(r.createContext)(null),R=function(e){var n=e.children,t=Object(r.useReducer)(b,f),c=Object(i.a)(t,2),o=c[0],l=c[1],u=Object(r.useReducer)(_,s),d=Object(i.a)(u,2),p=d[0],E=d[1],h=Object(r.useReducer)(D,m),O=Object(i.a)(h,2),y=O[0],v=O[1],g={error:o,field:p,submit:y};return a.a.createElement(w.Provider,{value:{state:g,dispatch:function(e){return[l,E,v].forEach(function(n){return n(e)})}}},n)},A=t(1),P=t(2);function S(){var e=Object(A.a)(["{\n\n        \u2003// display:inline-block;\n        padding: 0.3em 1.2em;\n        margin: 0 0.5em 0.5em 0;\n        border-radius: 0.3rem;\n        box-sizing: border-box;\n        text-decoration: none;\n        font-size: ",";\n        font-weight: normal;\n        text-align: center;\n        transition: all 0.2s;\n        // ? '#1B8728' : '#D93829'\n        \n        color: ",";\n        background-color: '#FFFFFF'\n    }\n\n    &:hover{\n        color: #FFFFFF;\n        background-color: ",";\n    }\n\n    @media all and (max-width:30em) {\n        button {\n            display:block;\n    \u2003\u2003      margin:0.2em auto;\n        }\n    }\n"]);return S=function(){return e},e}var H=P.a.button(S(),function(e){return e.theme.size?e.theme.size:"1.5rem"},function(e){return e.theme.color?e.theme.color:"#1B8728"},function(e){return e.theme.color?e.theme.color:"#1B8728"}),T=function(e){var n=e.action,t=e.text,r=e.theme;return a.a.createElement(H,{theme:r,onClick:n},t)};function k(){var e=Object(A.a)(["    \n    color: #D93829;\n    font-weight: bold;\n    background-color: floralwhite;\n    //align-items: center;\n    display: flex;\n    padding: 0.5rem;\n    border-radius: 0.3rem;\n    border: 1px solid #D93829;\n    flex-flow: column wrap;\n    justify-content: flex-start;\n    list-style-type: none;\n"]);return k=function(){return e},e}var I=P.a.ul(k()),L=function(e){var n=e.errors;return n&&n.length>0?a.a.createElement(I,null,n.map(function(e){return a.a.createElement("li",{key:e},e)})):null};function N(){var e=Object(A.a)(["\n    flex: 2;\n    font-size: 1rem;\n    padding: .6em 1.4em .5em .8em;\n    border: 1px solid #aaa;\n    box-shadow: 0 1px 0 1px rgba(0,0,0,.04);\n    border-radius: .5em;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    background-color: #fff;\n    margin: 0 0.5em 0.5em 0;\n"]);return N=function(){return e},e}var F=P.a.input(N()),B=function(e){var n=e.handleBlur,t=e.handleChange,c=e.inputType,o=e.name,i=e.value,l=e.readOnly,u=e.errors,d=e.required;return a.a.createElement(r.Fragment,null,a.a.createElement(F,{id:o,type:c,value:i,name:o,onChange:t,onBlur:n,readOnly:l,required:d}),a.a.createElement(L,{errors:u}))},M=function(e){return"Reached max limit. Cannot add more than ".concat(e," choices.")},U=t(16),z=t(17),G=new(function(){function e(){Object(U.a)(this,e)}return Object(z.a)(e,[{key:"isFieldEmpty",value:function(e){return!e}},{key:"hasReachedMaxLimit",value:function(e,n){return e&&e.length===n}},{key:"ifExists",value:function(e,n){return e.some(function(e){return e.name===n})}}]),e}());function q(){var e=Object(A.a)([" \n    flex: 0.5;\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 2rem;\n"]);return q=function(){return e},e}function J(){var e=Object(A.a)(["    \n    // display: flex;\n    // justify-content: flex-end;\n    width: 100%;\n"]);return J=function(){return e},e}var K=P.a.div(J()),W=P.a.div(q()),X=function(){var e=Object(r.useState)(""),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(r.useContext)(w),l=o.state,u=o.dispatch;Object(r.useEffect)(function(){s(t)},[l.field.choices]);var s=function(e){var n=[];return G.hasReachedMaxLimit(l.field.choices,3)&&t&&n.push(M(3)),G.ifExists(l.field.choices,e)&&n.push(function(e){return"Choice ".concat(e," already exists. Please use a different value")}(e)),u({type:d.HANDLE_CHANGE_FOR_ADD_CHOICE,payload:{errors:n}}),n};return a.a.createElement(K,null,a.a.createElement(W,null,a.a.createElement(B,{value:t,type:"text",name:"name",handleChange:function(e){e.preventDefault();var n=e.target.value;c(n)}}),a.a.createElement(T,{text:"Add new choice",action:function(e){e.preventDefault(),s(t).length>0||t&&(u({type:d.ADD_CHOICE,payload:{choice:t}}),c(""))},theme:{size:"1rem",color:"#008094"}})),a.a.createElement(L,{errors:l.error.addChoice}))};function V(){var e=Object(A.a)(["\n    color: ",";\n    font-weight: bold;\n    background-color: floralwhite;\n    align-items: center;\n    display: flex;\n    padding: 0.5rem;\n    border-radius: 0.3rem;\n    border: 1px solid ",";\n"]);return V=function(){return e},e}var $=P.a.span(V(),function(e){return e.theme.color?e.theme.color:"red"},function(e){return e.theme.color?e.theme.color:"red"}),Q=function(e){var n=e.text,t=e.theme;return a.a.createElement($,{theme:t},n)},Y=t(10),Z=t.n(Y),ee=t(18);function ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ne(t,!0).forEach(function(n){Object(p.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var re=function(){var e=Object(r.useContext)(w),n=e.state,t=e.dispatch,c=n.field.choices,o=Object(r.useState)({id:"",name:"",isEditing:!1}),l=Object(i.a)(o,2),u=l[0],s=l[1],f=function(e){return function(n){var t=n.target.value;s({id:c[e].id,name:t,isEditing:!0})}},m=function(e){t({type:d.REORDER_CHOICE_LIST,payload:{updatedChoices:e}})},p=function(e){t({type:d.UPDATE_CHOICE,payload:{choice:te({},e,{isEditing:!e.isEditing})}})},E=function(e){return function(n){n.preventDefault(),s({}),p(e)}},h=function(e){return function(n){n.preventDefault(),p(e)}},b=function(e){e.preventDefault(),p(u),s({})};return a.a.createElement("div",null,c.length>0?a.a.createElement(Z.a,{reorderId:"choice-list",draggedClassName:"dragged",lock:"horizontal",onReorder:function(e,n,t){m(Object(Y.reorder)(c,n,t))}},c.map(function(e,r){return a.a.createElement("div",{key:e.id},a.a.createElement(B,{type:"text",name:"name",value:u.name||e.name,readOnly:!e.isEditing,handleChange:f(r),errors:Object(ee.get)(n.error.editChoices.find(function(n){return n.id===e.id}),"error",[])}),a.a.createElement(T,{text:e.isEditing?"Update":"Edit",action:e.isEditing?b:h(e),theme:{size:"1rem",color:"#1B8728"}}),a.a.createElement(T,{text:e.isEditing?"Cancel":"Delete",action:e.isEditing?E(e):function(){return n=e.id,void t({type:d.DELETE_CHOICE,payload:{id:n}});var n},theme:{size:"1rem",color:"#D93829"}}))})):a.a.createElement(Q,{text:"*No choices added",theme:{color:"#D67404"}}))},ae=function(){return a.a.createElement(r.Fragment,null,a.a.createElement(re,null),a.a.createElement(X,null))};function ce(){var e=Object(A.a)(["    \n    margin: 0.5rem;\n"]);return ce=function(){return e},e}var oe=P.a.input(ce()),ie=function(e){var n=e.checked,t=e.handleChange,r=e.name;return a.a.createElement(oe,{id:r,name:r,type:"checkbox",checked:n,onChange:t})};function le(){var e=Object(A.a)(["\n    display: block;\n    font-size: 1rem;\n    color: #444;\n    line-height: 1.3;\n    padding: .6em 1.4em .5em .8em;\n    box-sizing: border-box; \n    border: 1px solid #aaa;\n    box-shadow: 0 1px 0 1px rgba(0,0,0,.04);\n    border-radius: .5em;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    background-color: #fff;\n    margin: 0 0.5em 0.5em 0;\n    "]);return le=function(){return e},e}var ue=P.a.select(le()),de=function(e){var n=e.handleChange,t=e.name,r=e.options,c=e.value;return a.a.createElement(ue,{id:t,name:t,value:c,onChange:n},r.map(function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.label)}))};function se(){var e=Object(A.a)(["\n\t// display: inline-block;\n    flex: 1;\n    margin: 1rem 0;\n    // align-self: center;\n"]);return se=function(){return e},e}var fe=P.a.label(se()),me=function(e){var n=e.label;return a.a.createElement(fe,null,n)};function pe(){var e=Object(A.a)(["\n\tdisplay: flex;\n    // justify-content: flex-start;\n    flex-flow: row wrap;\n    margin-top: 1em;\n    width: 80%;\n    align-items: center;\n\n"]);return pe=function(){return e},e}function Ee(){var e=Object(A.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return Ee=function(){return e},e}var he=P.a.div(Ee()),be=P.a.div(pe()),Oe=function(){var e=Object(r.useContext)(w),n=e.state,t=e.dispatch,c=function(e){var n=e.target,r=n.name,a=n.value;t({type:d.HANDLE_INPUT_CHANGE,payload:{name:r,value:a}})};return a.a.createElement(he,null,a.a.createElement(be,null,a.a.createElement(me,{label:"Label"}),a.a.createElement(B,{value:n.field.label,type:"text",name:"label",handleChange:c,errors:n.error.label})),a.a.createElement(be,null,a.a.createElement(me,{label:"Type"}),a.a.createElement(de,{handleChange:c,options:l,value:n.field.type,name:"type"}),a.a.createElement(ie,{checked:n.field.required,handleChange:function(e){var n=e.target.name;t({type:d.HANDLE_CHECK_BOX_CHANGE,payload:{name:n}})},name:"required"}),a.a.createElement(me,{label:"A value is required."})),a.a.createElement(be,null,a.a.createElement(me,{label:"Default Value"}),a.a.createElement(B,{value:n.field.default,type:"text",name:"default",handleChange:c})),a.a.createElement(be,null,a.a.createElement(me,{label:"Choices"}),a.a.createElement(ae,null)),a.a.createElement(be,null,a.a.createElement(me,{label:"Order"}),a.a.createElement(de,{handleChange:c,options:u,value:n.field.displayOrder,name:"displayOrder"})))},ye=t(11),ve=t.n(ye),ge=t(19),Ce={getField:function(e){return{label:"Sales region",required:!1,choices:["Asia","Australia","Western Europe","North America","Eastern Europe","Latin America","Middle East and Africa"],displayAlpha:!0,default:"North America"}},saveField:function(e,n){return fetch(e,{method:"POST",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}})}};function _e(){var e=Object(A.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    justify-content: center;\n"]);return _e=function(){return e},e}function je(){var e=Object(A.a)(["\n\tdisplay: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding-bottom: 1.5rem;\n    align-items: center;\n"]);return je=function(){return e},e}function xe(){var e=Object(A.a)(["\n\tdisplay: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding: 1rem;\n    height: 70px;\n    align-items: center;\n"]);return xe=function(){return e},e}var De=P.a.div(xe()),we=P.a.div(je()),Re=P.a.div(_e()),Ae=function(){var e=Object(r.useContext)(w),n=e.state,t=e.dispatch,c=function(){var e=Object(ge.a)(ve.a.mark(function e(r){var a,c;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t({type:d.CLEAR_ERROR}),!((a=o(n)).label.length>0||a.default.length>0)){e.next=5;break}return e.abrupt("return");case 5:return console.log("Logging POST data",n.field),t({type:d.SUBMIT_STARTED}),e.prev=7,e.next=10,Ce.saveField("http://www.mocky.io/v2/566061f21200008e3aabd919",n.field).then(function(e){return e.json()});case 10:c=e.sent,t({type:d.SUBMIT_COMPLETE,response:c}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),t({type:d.SUBMIT_ERROR,errorMessage:"Field was not saved."});case 17:case"end":return e.stop()}},e,null,[[7,14]])}));return function(n){return e.apply(this,arguments)}}(),o=function(e){var n={},r=e.field.default;return n.label=[],G.isFieldEmpty(e.field.label)&&n.label.push("".concat("Label"," : ").concat("Required field")),n.default=[],r&&!e.field.choices.some(function(e){return e.name===r})&&G.hasReachedMaxLimit(e.field.choices,3)&&n.default.push(M(3)),t({type:d.SET_ERROR_ON_SUBMIT,payload:{errors:n}}),n};return a.a.createElement(Re,null,a.a.createElement(De,null,a.a.createElement(T,{text:"Save",action:c,theme:{size:"1.5rem",color:"#1B8728"}}),a.a.createElement(T,{text:"Clear",action:function(e){e.preventDefault(),t({type:d.CLEAR})},theme:{size:"1.5rem",color:"#D93829"}})),a.a.createElement(we,null,n.submit.submitted&&a.a.createElement(Q,{text:"Saved Successfully !!!",theme:{color:"#1B8728"}}),n.submit.errorMessage&&a.a.createElement(Q,{text:"Saved Failed.",theme:{size:"1.5rem",color:"#D93829"}})),a.a.createElement(L,{errors:n.error.label}),a.a.createElement(L,{errors:n.error.default}))};function Pe(){var e=Object(A.a)(["\n\tfont-size: 1.5rem;\n    font-weight: bold;\n    color: ",";\n    border: ",";\n    background-color: ",";\n    padding: 0.5em;\n"]);return Pe=function(){return e},e}var Se=P.a.div(Pe(),function(e){return e.primary?"#45687F":"palevioletred"},function(e){return e.primary?"2px solid #DFEAF3":"2px solid #73E3FF"},function(e){return e.primary?"#DCEDF5":"palevioletred"}),He=function(e){var n=e.text;e.primary;return a.a.createElement(Se,{primary:!0},a.a.createElement("div",null,n))};function Te(){var e=Object(A.a)(["\n\tbackground-color: rgb(241, 245, 249);\n    border-radius: 5px;\n\tbackground: #fff;\n\tmax-width: 640px;\n\tmin-height: 800px;\n\tmargin: 1em auto;\n\t// padding: 1em; \n\tborder: 1px solid #DFEAF3\n\t// width: 50%;\n\t// height: 100%;\n\t// margin: 0 25% 0 25%;\n"]);return Te=function(){return e},e}var ke=P.a.div(Te()),Ie=function(){return a.a.createElement(ke,null,a.a.createElement(He,{primary:!0,text:"Field Builder"}),a.a.createElement("form",null,a.a.createElement(Oe,null),a.a.createElement(Ae,null)))};var Le=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(R,null,a.a.createElement(Ie,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.2e440d7d.chunk.js.map