(window["webpackJsonpcraft-demo"]=window["webpackJsonpcraft-demo"]||[]).push([[0],{22:function(e,t,n){e.exports=n(43)},27:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),c=n.n(o),l=(n(27),n(4)),i=[{label:"Multi-Select",value:"multiSelect"},{label:"Single-Select",value:"singleSelect"}],u=[{label:"Display choices in Alphabetical Order",value:"alphabetical"},{label:"Display choices in Top Down Order",value:"topDown"},{label:"Display choices in Bottom Up Order",value:"bottomUp"}],d={ADD_CHOICE:"add_choice",DELETE_CHOICE:"delete_choice",REORDER_CHOICE_LIST:"reorder_choice",SET_ERROR:"set_error",INPUT_CHANGE:"input_change",CHECK_BOX_CHANGE:"checkbox_change",SUBMIT_STARTED:"submit_started",SUBMIT_COMPLETE:"submit_completed",SUBMIT_ERROR:"submit_error"},s={label:"",type:"multiSelect",required:!1,default:"",choices:[],displayOrder:"alphabetical"},m={label:[],default:[],addChoice:[],editChoices:[]},f={submitted:!1,loading:!1,errorMessage:"",response:""},p=n(3);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=function(e,t){switch(t.type){case d.SET_ERROR:return b({},e,{},t.payload.errors);case d.CLEAR:return b({},e,{},m);default:return b({},e)}},v=n(19),g=n(13),O=n.n(g);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j=function(e,t){switch(t.type){case d.INPUT_CHANGE:return x({},e,Object(p.a)({},t.payload.name,t.payload.value));case d.CHECK_BOX_CHANGE:return x({},e,Object(p.a)({},t.payload.name,!e[t.payload.name]));case d.ADD_CHOICE:return x({},e,{choices:[].concat(Object(v.a)(e.choices),[{id:O()(),name:t.payload.choice,isEditing:!1}])});case d.DELETE_CHOICE:return x({},e,{choices:e.choices.filter(function(e){return e.id!==t.payload.id})});case d.REORDER_CHOICE_LIST:return x({},e,{choices:t.payload.updatedChoices});case d.CLEAR:return x({},e,{},s);default:return x({},e)}};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R=function(e,t){switch(t.type){case d.SUBMIT_STARTED:return w({},e,{submitted:!1,loading:!0});case d.SUBMIT_COMPLETE:return w({},e,{submitted:!0,response:t.response,errorMessage:"",loading:!1});case d.SUBMIT_ERROR:return w({},e,{submitted:!1,errorMessage:t.errorMessage,loading:!1});case d.CLEAR:return w({},e,{},f);default:return w({},e)}},D=Object(r.createContext)(null),_=function(e){var t=e.children,n=Object(r.useReducer)(E,m),o=Object(l.a)(n,2),c=o[0],i=o[1],u=Object(r.useReducer)(j,s),d=Object(l.a)(u,2),p=d[0],h=d[1],b=Object(r.useReducer)(R,f),v=Object(l.a)(b,2),g=v[0],O=v[1],y={error:c,field:p,submit:g};return a.a.createElement(D.Provider,{value:{state:y,dispatch:function(e){return[i,h,O].forEach(function(t){return t(e)})}}},t)},S=n(1),k=n(2);function T(){var e=Object(S.a)(["{\n        padding: 0.3em 1.2em;\n        margin: 0 0.5em 0.5em 0;\n        border-radius: 0.3rem;\n        box-sizing: border-box;\n        text-decoration: none;\n        font-size: ",";\n        font-weight: normal;\n        text-align: center;\n        transition: all 0.2s;\n        color: ",";\n        background-color: '#FFFFFF'\n    }\n\n    &:hover{\n        color: #FFFFFF;\n        background-color: ",";\n    }\n"]);return T=function(){return e},e}var P=k.a.button(T(),function(e){return e.theme.size?e.theme.size:"1.5rem"},function(e){return e.theme.color?e.theme.color:"#1B8728"},function(e){return e.theme.color?e.theme.color:"#1B8728"}),F=function(e){var t=e.action,n=e.text,r=e.theme;return a.a.createElement(P,{theme:r,onClick:t},n)};function A(){var e=Object(S.a)(["    \n    color: #D93829;\n    font-weight: bold;\n    display: flex;\n    padding: 0.5rem;\n    border-radius: 0.3rem;\n    flex-flow: column wrap;\n    list-style-type: none;\n    margin: 0;\n    align-items: center;\n"]);return A=function(){return e},e}var I=k.a.div(A()),M=function(e){var t=e.errors;return t&&t.length>0?a.a.createElement(I,null,t.map(function(e){return a.a.createElement("span",{key:e},e)})):null};function B(){var e=Object(S.a)(["\n    flex: 2;\n    font-size: 1rem;\n    padding: .6em 1.4em .5em .8em;\n    border: 1px solid #aaa;\n    box-shadow: 0 1px 0 1px rgba(0,0,0,.04);\n    border-radius: .5em;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    background-color: #fff;\n    margin: 0 0.5em 0.5em 0;\n"]);return B=function(){return e},e}var L=k.a.input(B()),H=function(e){var t=e.handleBlur,n=e.handleChange,o=e.inputType,c=e.name,l=e.value,i=e.readOnly,u=e.errors,d=e.required,s=e.disabled;return a.a.createElement(r.Fragment,null,a.a.createElement(L,{id:c,type:o,value:l,name:c,onChange:n,onBlur:t,readOnly:i,required:d,disabled:s}),a.a.createElement(M,{errors:u}))},z=n(16),N=n(17),U=new(function(){function e(){Object(z.a)(this,e)}return Object(N.a)(e,[{key:"isFieldEmpty",value:function(e){return!e}},{key:"hasReachedMaxLimit",value:function(e,t){return e&&e.length===t}},{key:"ifExists",value:function(e,t){return e.some(function(e){return e.name===t})}}]),e}()),q=function(e){return"Reached max limit. Cannot add more than ".concat(e," choices.")};function G(){var e=Object(S.a)([" \n    flex: 0.5;\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 2rem;\n"]);return G=function(){return e},e}function J(){var e=Object(S.a)(["    \n    width: 100%;\n"]);return J=function(){return e},e}var K=k.a.div(J()),W=k.a.div(G()),X=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(r.useContext)(D),i=c.state,u=c.dispatch,s=function(e){var t={addChoice:[]};return U.hasReachedMaxLimit(i.field.choices,1)&&n&&t.addChoice.push(q(1)),U.ifExists(i.field.choices,e)&&t.addChoice.push(function(e){return"Choice '".concat(e,"' already exists. Please use a different value")}(e)),u({type:d.SET_ERROR,payload:{errors:t}}),t};return a.a.createElement(K,null,a.a.createElement(W,null,a.a.createElement(H,{value:n,type:"text",name:"name",handleChange:function(e){e.preventDefault();var t=e.target.value;o(t)}}),a.a.createElement(F,{text:"Add new choice",action:function(e){s(n).addChoice.length>0||(n&&(u({type:d.ADD_CHOICE,payload:{choice:n}}),o("")),e.preventDefault())},theme:{size:"1rem",color:"#008094"}})),a.a.createElement(M,{errors:i.error.addChoice}))};function V(){var e=Object(S.a)(["\n    color: ",";\n    font-weight: bold;\n    background-color: floralwhite;\n    align-items: center;\n    display: flex;\n    padding: 0.5rem;\n    border-radius: 0.3rem;\n    border: 1px solid ",";\n    margin: 0 0.5em 0.5em 0;\n"]);return V=function(){return e},e}var $=k.a.span(V(),function(e){return e.theme.color?e.theme.color:"red"},function(e){return e.theme.color?e.theme.color:"red"}),Q=function(e){var t=e.text,n=e.theme;return a.a.createElement($,{theme:n},t)},Y=n(10),Z=n.n(Y),ee=function(){var e=Object(r.useContext)(D),t=e.state,n=e.dispatch,o=t.field.choices,c=function(e){n({type:d.REORDER_CHOICE_LIST,payload:{updatedChoices:e}})};return a.a.createElement("div",null,o.length>0?a.a.createElement(Z.a,{reorderId:"choice-list",draggedClassName:"dragged",lock:"horizontal",onReorder:function(e,t,n){c(Object(Y.reorder)(o,t,n))}},o.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(H,{type:"text",name:"name",value:e.name,readOnly:!0,disabled:!0}),a.a.createElement(F,{text:"Delete",action:function(){return t=e.id,void n({type:d.DELETE_CHOICE,payload:{id:t}});var t},theme:{size:"1rem",color:"#D93829"}}))})):a.a.createElement(Q,{text:"*No choices added",theme:{color:"#D67404"}}))},te=function(){return a.a.createElement(r.Fragment,null,a.a.createElement(ee,null),a.a.createElement(X,null))};function ne(){var e=Object(S.a)(["\n    align-self: center;    \n    margin: 0.5rem;\n"]);return ne=function(){return e},e}var re=k.a.input(ne()),ae=function(e){var t=e.checked,n=e.handleChange,r=e.name;return a.a.createElement(re,{id:r,name:r,type:"checkbox",checked:t,onChange:n})};function oe(){var e=Object(S.a)(["\n    display: block;\n    font-size: 1rem;\n    color: #444;\n    line-height: 1.3;\n    padding: .6em 1.4em .5em .8em;\n    box-sizing: border-box; \n    border: 1px solid #aaa;\n    box-shadow: 0 1px 0 1px rgba(0,0,0,.04);\n    border-radius: .5em;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    background-color: #fff;\n    margin: 0 0.5em 0.5em 0;\n    "]);return oe=function(){return e},e}var ce=k.a.select(oe()),le=function(e){var t=e.handleChange,n=e.name,r=e.options,o=e.value;return a.a.createElement(ce,{id:n,name:n,value:o,onChange:t},r.map(function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.label)}))};function ie(){var e=Object(S.a)(["\n    flex: 1;\n    margin: 1rem 0;\n"]);return ie=function(){return e},e}var ue=k.a.label(ie()),de=function(e){var t=e.label;return a.a.createElement(ue,null,t)};function se(){var e=Object(S.a)(["\n\talign-self: center;\n"]);return se=function(){return e},e}function me(){var e=Object(S.a)(["\n\tdisplay: flex;\n    // justify-content: flex-start;\n    flex-flow: row wrap;\n    margin-top: 1em;\n    width: 80%;\n    align-items: felx-start;\n\n"]);return me=function(){return e},e}function fe(){var e=Object(S.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return fe=function(){return e},e}var pe=k.a.div(fe()),he=k.a.div(me()),be=(k.a.input(se()),function(){var e=Object(r.useContext)(D),t=e.state,n=e.dispatch,o=function(e){var t=e.target,r=t.name,a=t.value;n({type:d.INPUT_CHANGE,payload:{name:r,value:a}})};return a.a.createElement(pe,null,a.a.createElement(he,null,a.a.createElement(de,{label:"Label"}),a.a.createElement(H,{value:t.field.label,type:"text",name:"label",handleChange:o})),a.a.createElement(M,{errors:t.error.label}),a.a.createElement(he,null,a.a.createElement(de,{label:"Type"}),a.a.createElement(le,{handleChange:o,options:i,value:t.field.type,name:"type"}),a.a.createElement(ae,{checked:t.field.required,handleChange:function(e){var t=e.target.name;n({type:d.CHECK_BOX_CHANGE,payload:{name:t}})},name:"required"}),a.a.createElement(de,{label:"A value is required."})),a.a.createElement(he,null,a.a.createElement(de,{label:"Default Value"}),a.a.createElement(H,{value:t.field.default,type:"text",name:"default",handleChange:o})),a.a.createElement(M,{errors:t.error.default}),a.a.createElement(he,null,a.a.createElement(de,{label:"Choices"}),a.a.createElement(te,null)),a.a.createElement(he,null,a.a.createElement(de,{label:"Order"}),a.a.createElement(le,{handleChange:o,options:u,value:t.field.displayOrder,name:"displayOrder"})))}),Ee=n(11),ve=n.n(Ee),ge=n(18),Oe={getField:function(){return{label:"Sales region",required:!1,choices:["Asia","Australia","Western Europe","North America","Eastern Europe","Latin America","Middle East and Africa"],type:"multiSelect",displayOrder:"alphabetical",default:"North America"}},saveField:function(e,t){return fetch(e,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}})}};function ye(){var e=Object(S.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    justify-content: center;\n"]);return ye=function(){return e},e}function xe(){var e=Object(S.a)(["\n\tdisplay: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding-bottom: 1.5rem;\n    align-items: center;\n"]);return xe=function(){return e},e}function je(){var e=Object(S.a)(["\n\tdisplay: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding: 1rem;\n    height: 70px;\n    align-items: center;\n"]);return je=function(){return e},e}var Ce=k.a.div(je()),we=k.a.div(xe()),Re=k.a.div(ye()),De=function(){var e=Object(r.useContext)(D),t=e.state,n=e.dispatch,o=function(){var e=Object(ge.a)(ve.a.mark(function e(r){var a,o;return ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!((a=c(t)).label.length>0||a.default.length>0)){e.next=5;break}return n({type:d.SUBMIT_ERROR,errorMessage:"Field was not saved."}),e.abrupt("return");case 5:return console.log("Logging POST data",t.field),n({type:d.SUBMIT_STARTED}),e.prev=7,e.next=10,Oe.saveField("http://www.mocky.io/v2/566061f21200008e3aabd919",t.field).then(function(e){return e.json()});case 10:o=e.sent,n({type:d.SUBMIT_COMPLETE,response:o}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),n({type:d.SUBMIT_ERROR,errorMessage:"Field was not saved."});case 17:case"end":return e.stop()}},e,null,[[7,14]])}));return function(t){return e.apply(this,arguments)}}(),c=function(e){var t={},r=e.field.default;return t.label=[],U.isFieldEmpty(e.field.label)&&t.label.push("Required field."),t.default=[],r&&!e.field.choices.some(function(e){return e.name===r})&&U.hasReachedMaxLimit(e.field.choices,1)&&t.default.push(q(1)),n({type:d.SET_ERROR,payload:{errors:t}}),t};return a.a.createElement(Re,null,a.a.createElement(Ce,null,a.a.createElement(F,{text:"Save",action:o,theme:{size:"1.5rem",color:"#1B8728"}}),a.a.createElement(F,{text:"Clear",action:function(e){e.preventDefault(),n({type:d.CLEAR})},theme:{size:"1.5rem",color:"#D93829"}})),a.a.createElement(we,null,t.submit.submitted&&a.a.createElement(Q,{text:"Saved Successfully !!!",theme:{color:"#1B8728"}}),t.submit.errorMessage&&a.a.createElement(Q,{text:"Saved Failed.",theme:{size:"1.5rem",color:"#D93829"}})))};function _e(){var e=Object(S.a)(["\n\tfont-size: 1.5rem;\n    font-weight: bold;\n    color: ",";\n    border: ",";\n    background-color: ",";\n    padding: 0.5em;\n"]);return _e=function(){return e},e}var Se=k.a.div(_e(),function(e){return e.theme.color?e.theme.color:"#1B8728"},function(e){return e.theme.color?"2px solid ".concat(e.theme.color):"2px solid #73E3FF"},function(e){return e.theme.backgroundColor?e.theme.backgroundColor:"palevioletred"}),ke=function(e){var t=e.text,n=e.theme;return a.a.createElement(Se,{theme:n},a.a.createElement("div",null,t))};function Te(){var e=Object(S.a)(["\n\tbackground-color: rgb(241, 245, 249);\n    border-radius: 5px;\n\tbackground: #fff;\n\tmax-width: 640px;\n\tmin-height: 700px;\n\tmargin: 1em auto;\n\tborder: 1px solid #DFEAF3\n"]);return Te=function(){return e},e}var Pe=k.a.div(Te()),Fe=function(){return a.a.createElement(Pe,null,a.a.createElement(ke,{text:"Field Builder",theme:{color:"#45687F",backgroundColor:"#DCEDF5"}}),a.a.createElement(be,null),a.a.createElement(De,null))};var Ae=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(_,null,a.a.createElement(Fe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.187194f4.chunk.js.map